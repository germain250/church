{% extends "../_base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

{% include "hero.html" %}

<!--Event and latest Sermon-->
{% include "event_ser.html" %}

<!--Calendar-->
{% include "calendar.html" %}

{% include "donate.html" %}

<h2 id="church" class="text-4xl font-bold mx-auto text-center font-handwriting mb-8">Convenience Holy Church Faith</h2>

{% include "about.html" %}

<!-- Statistics Section -->
<section class="bg-white text-gray-900 py-12">
    <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 text-center">
        {% for number in church_status %}
        <div>
            <h3 class="text-4xl font-bold text-purple-400" data-count="{{number.believers}}">0</h3>
            <p class="mt-2">BELIEVERS</p>
        </div>
        <div>
            <h3 class="text-4xl font-bold text-purple-400" data-count="{{number.ministries}}">0</h3>
            <p class="mt-2">MINISTRIES</p>
        </div>
        <div>
            <h3 class="text-4xl font-bold text-purple-400" data-count="{{number.volunteers}}">0</h3>
            <p class="mt-2">VOLUNTEERS</p>
        </div>
        <div>
            <h3 class="text-4xl font-bold text-purple-400" data-count="{{number.saved}}">0</h3>
            <p class="mt-2">SAVED SOULS</p>
        </div>
        {% endfor %}
    </div>
</section>

<!--Word of God-->

  {% include "../word.html" %}

  <!--Sermons Section-->

  {% include "../sermons.html" %}

  <!--Gallery Section-->

  {% include "gallery.html" %}

  {% include "../events.html" %}

  <!--Blog Section-->
  {% include "../blog.html" %}

  




<script src="https://unpkg.com/scrollreveal"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>

<script>
    const titles = [
        'YOUR CHURCH IS YOUR HOUSE',
        'WELCOME TO OUR CONGREGATION',
        'JOIN US IN WORSHIP AND FAITH',
        'FIND PEACE AND COMMUNITY'
    ];
    let index = 0;
    const heroTitle = document.getElementById('hero-title');
    const buttons = document.querySelectorAll('.slider-btn');

    function changeTitle() {
        index = (index + 1) % titles.length;
        updateSlider();
    }

    function setSlide(i) {
        index = i;
        updateSlider();
    }

    function updateSlider() {
        heroTitle.textContent = titles[index];
        buttons.forEach((btn, i) => {
            btn.classList.toggle('active', i === index);
            btn.classList.toggle('inactive', i !== index);
        });
        ScrollReveal().reveal('#hero-title', { delay: 200, duration: 1000, origin: 'right', distance: '120px' });
        ScrollReveal().reveal('.reveal',{delay: 300, duration: 2000, origin: 'left', distance: '200px'});
    }

    function prevSlide() {
        index = (index - 1 + titles.length) % titles.length;
        updateSlider();
    }

    function nextSlide() {
        index = (index + 1) % titles.length;
        updateSlider();
    }

    setInterval(changeTitle, 7000);
    updateSlider();
            // Counter Animation
            function animateCounters() {
                const counters = document.querySelectorAll('[data-count]');
                counters.forEach(counter => {
                    const updateCount = () => {
                        const target = +counter.getAttribute('data-count');
                        const count = +counter.innerText;
    
                        const increment = target / 200;
    
                        if (count < target) {
                            counter.innerText = Math.ceil(count + increment);
                            setTimeout(updateCount, 10);
                        } else {
                            counter.innerText = target;
                        }
                    };
    
                    updateCount();
                });
            }
    
            // Detect when the section is in view
            const section = document.querySelector('.py-12');
            const observer = new IntersectionObserver(entries => {
                if (entries[0].isIntersecting) {
                    animateCounters();
                    observer.unobserve(section);
                }
            }, {
                threshold: 0.5
            });
    
            observer.observe(section);

            {% comment %} const slides = document.querySelectorAll('.slide');
            let currentSlide = 0;
        
            function showSlide(index) {
              slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) {
                  slide.classList.add('active');
                }
              });
            }
        
            function nextSlide() {
              currentSlide = (currentSlide + 1) % slides.length;
              showSlide(currentSlide);
            }
        
            setInterval(nextSlide, 5000); {% endcomment %}
</script>
{% endblock content %}
